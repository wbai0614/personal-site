<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Iris Classifier — Live Demo</title>
  <meta name="theme-color" content="#0b1220" />
  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>html,body{background:#0b1220}</style>
</head>
<body class="min-h-screen text-slate-100">
  <main class="mx-auto max-w-3xl px-4 py-10">
    <a href="/" class="text-sm text-white/70 hover:text-white">← Back to portfolio</a>
    <h1 class="mt-4 text-3xl font-bold">Iris Classifier (In-Browser)</h1>
    <p class="mt-2 text-white/70">Enter sepal & petal measurements and get a species prediction. Runs 100% in your browser (no backend).</p>

    <div class="mt-6 grid md:grid-cols-2 gap-6">
      <form id="form" class="rounded-2xl border border-white/10 bg-slate-900/60 p-5 space-y-3">
        <label class="block text-sm text-white/80" for="sepal_len">Sepal length (cm)</label>
        <input id="sepal_len" type="number" step="0.1" min="0" required class="w-full rounded-xl bg-slate-800/80 px-3 py-2">

        <label class="block text-sm text-white/80" for="sepal_wid">Sepal width (cm)</label>
        <input id="sepal_wid" type="number" step="0.1" min="0" required class="w-full rounded-xl bg-slate-800/80 px-3 py-2">

        <label class="block text-sm text-white/80" for="petal_len">Petal length (cm)</label>
        <input id="petal_len" type="number" step="0.1" min="0" required class="w-full rounded-xl bg-slate-800/80 px-3 py-2">

        <label class="block text-sm text-white/80" for="petal_wid">Petal width (cm)</label>
        <input id="petal_wid" type="number" step="0.1" min="0" required class="w-full rounded-xl bg-slate-800/80 px-3 py-2">

        <div class="flex items-center gap-3 pt-2">
          <button class="rounded-2xl bg-white text-slate-900 px-4 py-2 text-sm font-semibold hover:bg-white/90" type="submit">Predict</button>
          <button class="rounded-2xl border border-white/20 px-4 py-2 text-sm hover:border-white/40" type="button" id="resetBtn">Reset</button>
        </div>
      </form>

      <div class="rounded-2xl border border-white/10 bg-slate-900/60 p-5">
        <h2 class="text-xl font-semibold">Result</h2>
        <p id="result" class="mt-3 text-2xl font-bold">—</p>
        <p id="explain" class="mt-2 text-white/70 text-sm"></p>
        <div class="mt-4 text-xs text-white/50">
          <p><strong>Note:</strong> This uses the classic Iris decision-tree rules (petal length/width thresholds). It’s a lightweight demo, not a production model.</p>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Classic, well-known Iris rules-of-thumb (approx from popular tutorials):
    // if petal_len < 2.45 -> setosa
    // else if petal_wid < 1.75 -> versicolor
    // else -> virginica
    function predictIris(petal_len, petal_wid) {
      if (petal_len < 2.45) return {species: "setosa", rule: "petal length < 2.45"};
      if (petal_wid < 1.75) return {species: "versicolor", rule: "petal width < 1.75"};
      return {species: "virginica", rule: "otherwise"};
    }

    const $ = (id) => document.getElementById(id);
    const form = $("form");
    const resultEl = $("result");
    const explainEl = $("explain");
    const resetBtn = $("resetBtn");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const sl = parseFloat($("sepal_len").value);
      const sw = parseFloat($("sepal_wid").value);
      const pl = parseFloat($("petal_len").value);
      const pw = parseFloat($("petal_wid").value);
      if ([sl, sw, pl, pw].some(v => isNaN(v))) return;

      const out = predictIris(pl, pw);
      resultEl.textContent = out.species.toUpperCase();
      explainEl.textContent = `Rule matched: ${out.rule}. Inputs — Sepal: ${sl} × ${sw}, Petal: ${pl} × ${pw} (cm).`;
    });

    resetBtn.addEventListener("click", () => {
      form.reset();
      resultEl.textContent = "—";
      explainEl.textContent = "";
    });
  </script>
</body>
</html>
