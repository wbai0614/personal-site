<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Iris Classifier — Live Demo</title>
  <meta name="theme-color" content="#0b1220" />
  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>html,body{background:#0b1220}</style>
</head>
<body class="min-h-screen text-slate-100">
  <main class="mx-auto max-w-3xl px-4 py-10">
    <a href="/" class="text-sm text-white/70 hover:text-white">← Back to portfolio</a>
    <h1 class="mt-4 text-3xl font-bold">Iris Classifier (In-Browser)</h1>
    <p class="mt-2 text-white/70">Enter sepal & petal measurements and get a species prediction. Runs 100% in your browser (no backend).</p>

    <div class="mt-6 grid md:grid-cols-2 gap-6">
      <form id="form" class="rounded-2xl border border-white/10 bg-slate-900/60 p-5 space-y-3">
        <div class="flex items-center justify-between gap-2">
          <h2 class="text-sm font-semibold text-white/80">Inputs (cm)</h2>
          <div class="flex flex-wrap gap-2">
            <button type="button" id="sampleSetosa" class="rounded-xl border border-white/20 px-3 py-1 text-xs hover:border-white/40" title="Auto-fill Setosa sample">Setosa</button>
            <button type="button" id="sampleVersicolor" class="rounded-xl border border-white/20 px-3 py-1 text-xs hover:border-white/40" title="Auto-fill Versicolor sample">Versicolor</button>
            <button type="button" id="sampleVirginica" class="rounded-xl border border-white/20 px-3 py-1 text-xs hover:border-white/40" title="Auto-fill Virginica sample">Virginica</button>
          </div>
        </div>

        <label class="block text-sm text-white/80" for="sepal_len">Sepal length</label>
        <input id="sepal_len" type="number" step="0.1" min="0" required class="w-full rounded-xl bg-slate-800/80 px-3 py-2">

        <label class="block text-sm text-white/80" for="sepal_wid">Sepal width</label>
        <input id="sepal_wid" type="number" step="0.1" min="0" required class="w-full rounded-xl bg-slate-800/80 px-3 py-2">

        <label class="block text-sm text-white/80" for="petal_len">Petal length</label>
        <input id="petal_len" type="number" step="0.1" min="0" required class="w-full rounded-xl bg-slate-800/80 px-3 py-2">

        <label class="block text-sm text-white/80" for="petal_wid">Petal width</label>
        <input id="petal_wid" type="number" step="0.1" min="0" required class="w-full rounded-xl bg-slate-800/80 px-3 py-2">

        <div class="flex items-center gap-3 pt-2">
          <button class="rounded-2xl bg-white text-slate-900 px-4 py-2 text-sm font-semibold hover:bg-white/90" type="submit">Predict</button>
          <button class="rounded-2xl border border-white/20 px-4 py-2 text-sm hover:border-white/40" type="button" id="resetBtn">Reset</button>
        </div>
      </form>

      <div class="rounded-2xl border border-white/10 bg-slate-900/60 p-5">
        <h2 class="text-xl font-semibold">Result</h2>
        <p id="result" class="mt-3 text-2xl font-bold">—</p>
        <p id="explain" class="mt-2 text-white/70 text-sm"></p>
        <div class="mt-4 text-xs text-white/50">
          <p><strong>Note:</strong> This uses the classic Iris decision-tree style rules (petal length/width thresholds). It’s a lightweight demo, not a production model.</p>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Classic, well-known Iris rules-of-thumb:
    // if petal_len < 2.45 -> setosa
    // else if petal_wid < 1.75 -> versicolor
    // else -> virginica
    function predictIris(petal_len, petal_wid) {
      if (petal_len < 2.45) return {species: "setosa", rule: "petal length < 2.45"};
      if (petal_wid < 1.75) return {species: "versicolor", rule: "petal width < 1.75"};
      return {species: "virginica", rule: "otherwise"};
    }

    const $ = (id) => document.getElementById(id);
    const form = $("form");           // id="form"
    const resultEl = $("result");
    const explainEl = $("explain");
    const resetBtn = $("resetBtn");

    // Sample inputs for each species (typical values)
    const samples = {
      setosa:      { sl: 5.1, sw: 3.5, pl: 1.4, pw: 0.2 },
      versicolor:  { sl: 7.0, sw: 3.2, pl: 4.7, pw: 1.4 },
      virginica:   { sl: 6.3, sw: 3.3, pl: 5.6, pw: 2.2 }
    };

    function fillSample(s) {
      const v = samples[s];
      $("sepal_len").value = v.sl;
      $("sepal_wid").value = v.sw;
      $("petal_len").value = v.pl;
      $("petal_wid").value = v.pw;
      // Clear any previous result; user clicks Predict next
      resultEl.textContent = "—";
      explainEl.textContent = "";
    }

    $("sampleSetosa").addEventListener("click", () => fillSample("setosa"));
    $("sampleVersicolor").addEventListener("click", () => fillSample("versicolor"));
    $("sampleVirginica").addEventListener("click", () => fillSample("virginica"));

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const sl = parseFloat($("sepal_len").value);
      const sw = parseFloat($("sepal_wid").value);
      const pl = parseFloat($("petal_len").value);
      const pw = parseFloat($("petal_wid").value);
      if ([sl, sw, pl, pw].some(v => isNaN(v))) return;

      const out = predictIris(pl, pw);
      resultEl.textContent = out.species.toUpperCase();
      explainEl.textContent = `Rule matched: ${out.rule}. Inputs — Sepal: ${sl} × ${sw}, Petal: ${pl} × ${pw} (cm).`;
    });

    resetBtn.addEventListener("click", () => {
      form.reset();
      resultEl.textContent = "—";
      explainEl.textContent = "";
    });
  </script>
</body>
</html>
